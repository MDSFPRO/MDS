<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title id="page-title">[Titre de l’actualité] – Marc Da Silva</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" id="meta-desc" content="[Résumé de l’actu]" />
  <link rel="stylesheet" href="../../css/style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="icon" type="image/png" href="/MDS/images/favicon.png" />
  <link rel="shortcut icon" href="/MDS/images/favicon.png" />
</head>
<body class="bg-black text-white min-h-screen font-sans">

  <!-- HEADER -->
  <header class="w-full flex justify-center pt-5 pb-2 z-50 fixed top-0 left-0 bg-transparent">
    <div class="w-full max-w-6xl flex items-center px-6 py-3 rounded-3xl glass-card shadow-2xl">
      <a href="../../index.html#hero" aria-label="Retour à l'accueil">
        <img src="../../images/Logo.png" alt="Logo Marc Da Silva" class="h-10 w-10 rounded-full" />
      </a>
      <nav class="hidden lg:flex flex-1 justify-center gap-10 text-base font-semibold items-center text-white/90" aria-label="Navigation principale">
        <a href="../../index.html#experiences" class="hover:text-teal-400 transition">Expériences</a>
        <a href="../../index.html#formations" class="hover:text-teal-400 transition">Formations</a>
        <a href="../../index.html#certifications" class="hover:text-teal-400 transition">Certifications</a>
        <a href="../../index.html#competences" class="hover:text-teal-400 transition">Compétences</a>
        <a href="../../index.html#interet" class="hover:text-teal-400 transition">Intérêt</a>
        <a href="../../index.html#contact" class="hover:text-teal-400 transition">Contact</a>
        <a href="../article-index.html" class="bg-teal-500 px-6 py-2 rounded-xl font-semibold text-black text-base shadow-lg hover:bg-teal-400 transition">Articles</a>
      </nav>
      <div class="flex-1 lg:hidden"></div>
      <button id="burger-btn"
        class="lg:hidden flex flex-col justify-center items-center w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 transition relative"
        aria-label="Menu">
        <span class="burger-bar-2 bar-top absolute left-0 right-0"></span>
        <span class="burger-bar-2 bar-bottom absolute left-0 right-0"></span>
      </button>
    </div>
    <!-- NAV MOBILE identique à ton modèle... -->
  </header>

<main class="pt-[160px] max-w-3xl mx-auto px-4">

  <!-- Hero Image + Overlay + Badge + Titre + Date -->
  <section class="relative mb-10 fade">
    <img id="article-image" src="" alt="Image d’actu" class="w-full h-64 object-cover rounded-2xl shadow-lg" />
    <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/60 to-black/100 rounded-2xl"></div>
    <div class="absolute bottom-6 left-6">
      <span class="bg-teal-300/90 text-black text-xs font-bold px-3 py-1 rounded-xl mr-3 shadow">Actualité</span>
      <h1 id="article-title" class="text-3xl sm:text-4xl font-bold glass-title mt-2 text-white drop-shadow-[0_2px_6px_rgba(0,0,0,0.85)]"></h1>
      <span id="article-date" class="text-white/70 text-xs"></span>
    </div>
  </section>

  <!-- Auteur LinkedIn sous l'image -->
  <div class="flex items-center gap-3 mb-6 fade">
    <img src="../../images/Logo.png" alt="Marc Da Silva" class="w-10 h-10 rounded-full border border-white/10 shadow" />
    <div>
      <span class="block font-semibold text-base text-white/90">Marc Da Silva</span>
      <span class="block text-xs text-white/60">Consultant IT & Veille technologique</span>
      <!-- Bouton LinkedIn -->
      <a href="https://www.linkedin.com/in/ton-nom-utilisateur/" target="_blank" rel="noopener noreferrer"
        class="inline-flex items-center gap-2 bg-[#0077b5] hover:bg-[#0094f5] text-white px-4 py-2 rounded-xl font-semibold shadow transition text-sm mt-2">
        <i data-lucide="linkedin" class="w-5 h-5"></i>
        Me suivre sur LinkedIn
      </a>
    </div>
  </div>

  <!-- Résumé (intro) -->
  <section class="mb-10 fade">
    <p id="article-summary" class="text-lg text-white/80 leading-relaxed font-semibold"></p>
  </section>

  <!-- Contenu principal -->
  <article id="article-body" class="fade space-y-8">
    <!-- Le contenu markdown converti en HTML sera injecté ici -->
  </article>

  <!-- Suggestions d’articles -->
  <section class="mt-20 mb-8 fade">
    <h2 class="text-2xl font-bold mb-8 text-white">Découvrir aussi</h2>
    <div id="last-articles" class="grid gap-7 sm:grid-cols-3"></div>
  </section>
</main>

<footer class="py-12 text-center text-white/40 text-base bg-black mt-20">
  &copy; 2025 Marc Da Silva. Portfolio.<br>
  <span class="text-xs text-white/20">Site personnel. Aucun cookie ni tracking.</span>
</footer>

<script src="../../js/main.js" defer></script>
<script src="../../js/articles-suggestions.js" defer></script>

<!-- Librairies markdown + yaml -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-yaml/dist/js-yaml.min.js"></script>

<!-- Script d’injection dynamique -->
<script>
async function loadArticle() {
  // Déduire le slug depuis l’URL (ex: 2024-06-17-mon-article.html)
  const slug = window.location.pathname.split('/').pop().replace('.html', '');
  const mdUrl = `../actu/${slug}.md`;
  try {
    const response = await fetch(mdUrl);
    const mdText = await response.text();
    const match = /^---\n([^\0]+?)\n---\n([\s\S]*)$/m.exec(mdText);
    if (!match) throw new Error("Format markdown invalide");
    const front = jsyaml.load(match[1]);
    const bodyMd = match[2];
    // Injection
    document.title = `${front.title} – Marc Da Silva`;
    document.getElementById('page-title').textContent = `${front.title} – Marc Da Silva`;
    document.getElementById('meta-desc').setAttribute('content', front.summary || '');
    document.getElementById('article-title').textContent = front.title || '';
    document.getElementById('article-date').textContent = (front.date || '').split('T')[0];
    document.getElementById('article-summary').textContent = front.summary || '';
    document.getElementById('article-image').src = front.image || '../../images/articles/default.jpg';
    document.getElementById('article-body').innerHTML = marked.parse(bodyMd);
    lucide.createIcons();
  } catch(e) {
    document.getElementById('article-body').innerHTML = '<p class="text-red-400">Impossible de charger l’article.</p>';
  }
}
window.addEventListener('DOMContentLoaded', loadArticle);
</script>
</body>
</html>
